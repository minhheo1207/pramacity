<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>B√†i vi·∫øt / Tin s·ª©c kh·ªèe</title>
    <link rel="stylesheet" href="./src/assets/css/styles.css" />
  </head>
  <body>
    <!-- TOPBAR -->
    <div class="topbar">
      <div class="container topbar__wrap">
        <div class="topbar__left">
          <span class="chip">üöö Mi·ªÖn ph√≠ ship ƒë∆°n t·ª´ 300K</span>
          <a href="#" class="link">H·ªá th·ªëng nh√† thu·ªëc</a>
          <a href="#" class="link">Tra c·ª©u ƒë∆°n h√†ng</a>
        </div>
        <div class="topbar__right">
          <span>üìû Hotline: <strong>1800 6821</strong></span>
        </div>
      </div>
    </div>

    <!-- HEADER -->
    <header class="site-header">
      <div class="container header__wrap">
        <a href="./index.html" class="logo">Pharma<span>City</span></a>

        <div class="menu-trigger" tabindex="0">
          <button class="btn btn--ghost">‚ò∞ Danh m·ª•c</button>
          <div class="dropdown">
            <a href="./khuyen-mai.html">Khuy·∫øn m√£i</a>
            <a href="./ban-chay.html">B√°n ch·∫°y</a>
            <a href="./hang-moi.html">H√†ng m·ªõi</a>
            <a href="#">TPBVSK</a>
            <a href="#">M·∫π & B√©</a>
          </div>
        </div>

        <form class="search" action="#" method="get">
          <input type="text" name="q" placeholder="T√¨m b√†i vi·∫øt s·ª©c kh·ªèe..." />
          <button type="submit" class="btn">T√¨m</button>
        </form>

        <nav class="quick-nav">
          <a href="./bai-viet.html" class="quick-link">üì∞ B√†i vi·∫øt</a>
          <a href="#" class="quick-link">üë§</a>
          <a href="#" class="quick-link" id="cartIcon">üõí <span class="badge" id="cartBadge">0</span></a>
        </nav>
      </div>
    </header>

    <!-- BANNER / TI√äU ƒê·ªÄ -->
    <section class="blog-hero">
      <div class="container blog-hero__wrap">
        <div>
          <h1>Tin t·ª©c & Ki·∫øn th·ª©c s·ª©c kh·ªèe</h1>
          <p class="muted">
            C·∫≠p nh·∫≠t tin m·ªõi, h∆∞·ªõng d·∫´n d√πng thu·ªëc an to√†n, dinh d∆∞·ª°ng, m·∫π & b√©‚Ä¶
          </p>
        </div>
        <div class="blog-hero__tags">
          <a href="#" class="pill active">T·∫•t c·∫£</a>
          <a href="#" class="pill">Thu·ªëc & s·ª≠ d·ª•ng</a>
          <a href="#" class="pill">Dinh d∆∞·ª°ng</a>
          <a href="#" class="pill">M·∫π & B√©</a>
          <a href="#" class="pill">Thi·∫øt b·ªã y t·∫ø</a>
        </div>
      </div>
    </section>

    <main class="container">
      <div class="blog-layout">
        <!-- LIST B√ÄI VI·∫æT -->
        <section class="section blog-list">
          <!-- B√ÄI 1 -->
          <article class="post-card">
            <a
              class="post-card__thumb"
              style="background-image: url('./img/omega.jpg')"
              href="#"
            ></a>
            <div class="post-card__content">
              <a class="post-card__title" href="#"
                >5 l∆∞u √Ω khi d√πng Omega-3 ƒë·ªÉ ƒë·∫°t hi·ªáu qu·∫£ t·ªët</a
              >
              <div class="post-card__meta">
                Dinh d∆∞·ª°ng ‚Ä¢ 12/08/2025 ‚Ä¢ 4 ph√∫t ƒë·ªçc
              </div>
              <p class="post-card__excerpt">
                B·ªï sung Omega-3 gi√∫p tim m·∫°ch, m·∫Øt v√† n√£o b·ªô, nh∆∞ng c·∫ßn ch√∫ √Ω
                li·ªÅu d√πng ‚Äì th·ªùi ƒëi·ªÉm u·ªëng ‚Äì t∆∞∆°ng t√°c v·ªõi thu·ªëc ch·ªëng ƒë√¥ng‚Ä¶
              </p>
              <a class="btn" href="#">ƒê·ªçc ti·∫øp</a>
            </div>
          </article>

          <!-- B√ÄI 2 -->
          <article class="post-card">
            <a
              class="post-card__thumb"
              style="background-image: url('./public/img/thermo.jpg')"
              href="#"
            ></a>
            <div class="post-card__content">
              <a class="post-card__title" href="#"
                >C√°ch ƒëo nhi·ªát ƒë·ªô ƒë√∫ng khi tr·∫ª b·ªã s·ªët</a
              >
              <div class="post-card__meta">
                M·∫π & B√© ‚Ä¢ 05/08/2025 ‚Ä¢ 3 ph√∫t ƒë·ªçc
              </div>
              <p class="post-card__excerpt">
                D√πng nhi·ªát k·∫ø ƒëi·ªán t·ª≠ v√† theo d√µi theo khung gi·ªù l√† ch√¨a kh√≥a.
                B√†i vi·∫øt h∆∞·ªõng d·∫´n ch·ªçn v·ªã tr√≠ ƒëo, c√°ch v·ªá sinh v√† l∆∞u √Ω an
                to√†n.
              </p>
              <a class="btn" href="#">ƒê·ªçc ti·∫øp</a>
            </div>
          </article>

          <!-- B√ÄI 3 -->
          <article class="post-card">
            <a
              class="post-card__thumb"
              style="background-image: url('./public/img/sunscreen.jpg')"
              href="#"
            ></a>
            <div class="post-card__content">
              <a class="post-card__title" href="#"
                >Kem ch·ªëng n·∫Øng: SPF bao nhi√™u l√† ƒë·ªß?</a
              >
              <div class="post-card__meta">
                ChƒÉm s√≥c da ‚Ä¢ 28/07/2025 ‚Ä¢ 5 ph√∫t ƒë·ªçc
              </div>
              <p class="post-card__excerpt">
                SPF cao kh√¥ng ph·∫£i l√∫c n√†o c≈©ng t·ªët h∆°n. Quan tr·ªçng l√† b√¥i ƒë·ªß
                l∆∞·ª£ng, l·∫∑p l·∫°i ƒë√∫ng th·ªùi gian v√† ch·ªçn lo·∫°i ph√π h·ª£p v·ªõi da.
              </p>
              <a class="btn" href="#">ƒê·ªçc ti·∫øp</a>
            </div>
          </article>

          <!-- PH√ÇN TRANG -->
          <div class="pagination">
            <a class="page is-disabled" href="#">¬´</a>
            <a class="page is-active" href="#">1</a>
            <a class="page" href="#">2</a>
            <a class="page" href="#">3</a>
            <a class="page" href="#">¬ª</a>
          </div>
        </section>

        <!-- SIDEBAR -->
        <aside class="blog-sidebar">
          <div class="sidebar-box">
            <h3>Chuy√™n m·ª•c</h3>
            <ul class="sidebar-list">
              <li><a href="#">Thu·ªëc & s·ª≠ d·ª•ng</a></li>
              <li><a href="#">Dinh d∆∞·ª°ng</a></li>
              <li><a href="#">M·∫π & B√©</a></li>
              <li><a href="#">ChƒÉm s√≥c c√° nh√¢n</a></li>
              <li><a href="#">Thi·∫øt b·ªã y t·∫ø</a></li>
            </ul>
          </div>

          <div class="sidebar-box">
            <h3>B√†i n·ªïi b·∫≠t</h3>
            <a class="hot-item" href="#">
              <span
                class="hot-thumb"
                style="background-image: url('./public/img/vitc.jpg')"
              ></span>
              <span class="hot-title"
                >U·ªëng Vitamin C th·∫ø n√†o ƒë·ªÉ kh√¥ng ‚Äúqu√° li·ªÅu‚Äù?</span
              >
            </a>
            <a class="hot-item" href="#">
              <span
                class="hot-thumb"
                style="background-image: url('./public/img/mask.jpg')"
              ></span>
              <span class="hot-title"
                >Kh·∫©u trang: ch·ªçn lo·∫°i n√†o cho m√πa d·ªãch?</span
              >
            </a>
            <a class="hot-item" href="#">
              <span
                class="hot-thumb"
                style="background-image: url('./public/img/bp.jpg')"
              ></span>
              <span class="hot-title"
                >M√°y ƒëo huy·∫øt √°p: 5 ti√™u ch√≠ quan tr·ªçng</span
              >
            </a>
          </div>

          <div class="sidebar-box subscribe-box">
            <h3>Nh·∫≠n b·∫£n tin</h3>
            <p class="muted">Nh·∫≠n b√†i vi·∫øt m·ªõi v√† m√£ khuy·∫øn m√£i qua email.</p>
            <form class="subscribe-form" action="#" method="post">
              <input type="email" required placeholder="Nh·∫≠p email c·ªßa b·∫°n" />
              <button class="btn btn--block" type="submit">ƒêƒÉng k√Ω</button>
            </form>
          </div>
        </aside>
      </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
      <div class="container">
        <p class="footnote">¬© 2025 PharmaCity demo. All rights reserved.</p>
      </div>
    </footer>

    <!-- CART SIDEBAR -->
    <div class="cart-overlay" id="cartOverlay"></div>
    <div class="cart-sidebar" id="cartSidebar">
      <div class="cart-header">
        <h2>Gi·ªè h√†ng c·ªßa b·∫°n</h2>
        <button class="cart-close-btn" id="cartClose">‚úï</button>
      </div>
      
      <div class="cart-body" id="cartBody">
        <!-- Empty cart message -->
        <div class="cart-empty" id="cartEmpty">
          <div class="cart-empty-icon">üõí</div>
          <p>Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng</p>
          <a href="./index.html" class="btn">Ti·∫øp t·ª•c mua s·∫Øm</a>
        </div>
        
        <!-- Cart items list -->
        <div class="cart-items-list" id="cartItems" style="display: none;"></div>
      </div>
      
      <!-- Cart footer with total and checkout -->
      <div class="cart-footer" id="cartFooter" style="display: none;">
        <div class="cart-total">
          <div class="cart-total-row">
            <span>T·∫°m t√≠nh:</span>
            <span id="cartSubtotal">0‚Ç´</span>
          </div>
          <div class="cart-total-row">
            <span>Ph√≠ v·∫≠n chuy·ªÉn:</span>
            <span id="cartShippingFee">Mi·ªÖn ph√≠</span>
          </div>
          <div class="cart-total-row cart-total-final">
            <span>T·ªïng c·ªông:</span>
            <span id="cartTotal">0‚Ç´</span>
          </div>
        </div>
        <button class="btn btn--block btn-checkout" id="checkoutBtn">Thanh to√°n</button>
        <a href="./index.html" class="cart-continue-link">‚Üê Ti·∫øp t·ª•c mua s·∫Øm</a>
      </div>
    </div>

    <script>
      // Cart Management
      const CART_STORAGE_KEY = 'pharmacity_cart';
      
      // Get cart from localStorage
      function getCart() {
        try {
          const cart = localStorage.getItem(CART_STORAGE_KEY);
          return cart ? JSON.parse(cart) : [];
        } catch (e) {
          console.error('Error reading cart:', e);
          return [];
        }
      }
      
      // Save cart to localStorage
      function saveCart(cart) {
        try {
          localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));
          updateCartBadge();
          renderCart();
        } catch (e) {
          console.error('Error saving cart:', e);
        }
      }
      
      // Update cart badge number
      function updateCartBadge() {
        const cart = getCart();
        const totalQty = cart.reduce((sum, item) => sum + (item.qty || 0), 0);
        const badge = document.getElementById('cartBadge');
        if (badge) {
          badge.textContent = totalQty;
          badge.style.display = totalQty > 0 ? 'inline-block' : 'none';
        }
      }
      
      // Format price to Vietnamese currency
      function formatPrice(price) {
        return new Intl.NumberFormat('vi-VN').format(price) + '‚Ç´';
      }
      
      // Render cart items
      function renderCart() {
        const cart = getCart();
        const cartItems = document.getElementById('cartItems');
        const cartEmpty = document.getElementById('cartEmpty');
        const cartFooter = document.getElementById('cartFooter');
        
        if (!cart || cart.length === 0) {
          // Show empty state
          if (cartItems) cartItems.style.display = 'none';
          if (cartEmpty) cartEmpty.style.display = 'flex';
          if (cartFooter) cartFooter.style.display = 'none';
          return;
        }
        
        // Show cart items
        if (cartEmpty) cartEmpty.style.display = 'none';
        if (cartItems) cartItems.style.display = 'block';
        if (cartFooter) cartFooter.style.display = 'block';
        
        // Render items
        if (cartItems) {
          cartItems.innerHTML = cart.map((item, index) => `
            <div class="cart-item" data-index="${index}">
              <div class="cart-item-image">
                <img src="${item.image || 'https://via.placeholder.com/80'}" alt="${item.name || 'S·∫£n ph·∫©m'}" />
              </div>
              <div class="cart-item-info">
                <h4 class="cart-item-name">${item.name || 'S·∫£n ph·∫©m'}</h4>
                <div class="cart-item-price">${formatPrice(item.price || 0)}</div>
                <div class="cart-item-controls">
                  <div class="qty-wrapper">
                    <button class="qty-btn qty-minus" data-index="${index}">‚àí</button>
                    <input type="number" class="qty-input" value="${item.qty || 1}" min="1" data-index="${index}">
                    <button class="qty-btn qty-plus" data-index="${index}">+</button>
                  </div>
                  <button class="cart-item-delete" data-index="${index}">üóëÔ∏è</button>
                </div>
              </div>
            </div>
          `).join('');
        }
        
        // Attach event listeners
        attachCartEvents();
        
        // Calculate and update totals
        const subtotal = cart.reduce((sum, item) => sum + ((item.price || 0) * (item.qty || 1)), 0);
        const total = subtotal;
        
        const subtotalEl = document.getElementById('cartSubtotal');
        const totalEl = document.getElementById('cartTotal');
        
        if (subtotalEl) subtotalEl.textContent = formatPrice(subtotal);
        if (totalEl) totalEl.textContent = formatPrice(total);
      }
      
      // Attach event listeners to cart items
      function attachCartEvents() {
        const cartItems = document.getElementById('cartItems');
        if (!cartItems) return;
        
        // Decrease quantity buttons
        cartItems.querySelectorAll('.qty-minus').forEach(btn => {
          btn.onclick = function() {
            const index = parseInt(this.getAttribute('data-index'));
            const cart = getCart();
            if (cart[index]) {
              cart[index].qty = Math.max(1, (cart[index].qty || 1) - 1);
              saveCart(cart);
            }
          };
        });
        
        // Increase quantity buttons
        cartItems.querySelectorAll('.qty-plus').forEach(btn => {
          btn.onclick = function() {
            const index = parseInt(this.getAttribute('data-index'));
            const cart = getCart();
            if (cart[index]) {
              cart[index].qty = (cart[index].qty || 1) + 1;
              saveCart(cart);
            }
          };
        });
        
        // Quantity input changes
        cartItems.querySelectorAll('.qty-input').forEach(input => {
          input.onchange = function() {
            const index = parseInt(this.getAttribute('data-index'));
            const cart = getCart();
            if (cart[index]) {
              cart[index].qty = Math.max(1, parseInt(this.value) || 1);
              saveCart(cart);
            }
          };
        });
        
        // Delete buttons
        cartItems.querySelectorAll('.cart-item-delete').forEach(btn => {
          btn.onclick = function() {
            const index = parseInt(this.getAttribute('data-index'));
            const cart = getCart();
            cart.splice(index, 1);
            saveCart(cart);
          };
        });
      }
      
      // Open cart sidebar
      function openCart() {
        const sidebar = document.getElementById('cartSidebar');
        const overlay = document.getElementById('cartOverlay');
        if (sidebar) sidebar.classList.add('is-open');
        if (overlay) overlay.classList.add('is-open');
        document.body.style.overflow = 'hidden';
        renderCart();
      }
      
      // Close cart sidebar
      function closeCart() {
        const sidebar = document.getElementById('cartSidebar');
        const overlay = document.getElementById('cartOverlay');
        if (sidebar) sidebar.classList.remove('is-open');
        if (overlay) overlay.classList.remove('is-open');
        document.body.style.overflow = '';
      }
      
      // Initialize cart functionality
      document.addEventListener('DOMContentLoaded', function() {
        // Cart icon click
        const cartIcon = document.getElementById('cartIcon');
        if (cartIcon) {
          cartIcon.addEventListener('click', function(e) {
            e.preventDefault();
            openCart();
          });
        }
        
        // Close button click
        const cartClose = document.getElementById('cartClose');
        if (cartClose) {
          cartClose.addEventListener('click', closeCart);
        }
        
        // Overlay click to close
        const cartOverlay = document.getElementById('cartOverlay');
        if (cartOverlay) {
          cartOverlay.addEventListener('click', closeCart);
        }
        
        // Checkout button
        const checkoutBtn = document.getElementById('checkoutBtn');
        if (checkoutBtn) {
          checkoutBtn.addEventListener('click', function() {
            const cart = getCart();
            if (cart.length === 0) {
              alert('Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng!');
              return;
            }
            alert('Ch·ª©c nƒÉng thanh to√°n s·∫Ω ƒë∆∞·ª£c t√≠ch h·ª£p sau!');
          });
        }
        
        // Initialize badge
        updateCartBadge();
      });
      
      // Listen for cart updates from other pages/tabs
      window.addEventListener('storage', function(e) {
        if (e.key === 'pharmacity_cart') {
          updateCartBadge();
          renderCart();
        }
      });
    </script>
  </body>
</html>
